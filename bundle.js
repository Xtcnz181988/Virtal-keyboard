(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e=function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.textArea=t,this.keyBoard=n,this.CapsLock=!1,this.ShiftLeft=!1,this.ShiftRight=!1,this.ControlLeft=!1,this.ControlRight=!1,this.AltLeft=!1,this.Language=JSON.parse(localStorage.getItem("languageSetting")),this.arrFunctionalityBottons=["CapsLock","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","ShiftLeft","MetaLeft"]}var n,o;return n=e,(o=[{key:"createListenerForVirtualButtons",value:function(){var t=this;this.keyBoard.setKeys.forEach((function(e){e.addEventListener("click",(function(e){t.changeStyleButton(e,e.target.code),t.checkFunctionality(e,e.target.code),t.print(e.target.code)}))}))}},{key:"createListenerForRealButtons",value:function(){var t=this;document.addEventListener("keydown",(function(e){e.preventDefault(),t.arrFunctionalityBottons.includes(e.code)&&!e.repeat?t.keyBoard.setCodes.includes(e.code)&&(t.checkFunctionality(e,e.code),t.changeStyleButton(e,e.code)):t.arrFunctionalityBottons.includes(e.code)||(t.changeStyleButton(e,e.code),t.print(e.code))})),document.addEventListener("keyup",(function(e){t.keyBoard.setCodes.includes(e.code)&&(t.changeStyleButton(e,e.code),"CapsLock"!==e.code&&t.checkFunctionality(e,e.code))}))}},{key:"checkFunctionality",value:function(t,e){"CapsLock"===e?this.changeCapsLock():"ShiftLeft"===e?this.AltLeft?(this.ShiftLeft=!this.ShiftLeft,this.changeLanguage(t)):this.ShiftRight?this.ShiftRight&&(this.ShiftLeft=!this.ShiftLeft):(this.changeShift(),this.ShiftLeft=!this.ShiftLeft):"ShiftRight"===e?this.AltLeft?(this.AltLeft=!this.AltLeft,this.changeLanguage(t)):this.ShiftLeft?this.ShiftLeft&&(this.ShiftRight=!this.ShiftRight):(this.changeShift(),this.ShiftRight=!this.ShiftRight):"AltLeft"===e?(this.AltLeft=!this.AltLeft,this.AltLeft&&(this.ShiftLeft||this.ShiftRight)&&this.changeLanguage(t)):"ControlLeft"===e?this.ControlLeft=!this.ControlLeft:"ControlRight"===e&&(this.ControlRight=!this.ControlRight)}},{key:"changeCapsLock",value:function(){var t=this;this.keyBoard.setKeys.forEach((function(e){var n=e;"letter"!==e.symbol&&"other"!==e.symbol||(t.CapsLock?t.CapsLock&&(t.ShiftLeft||t.ShiftRight)?n.innerText=e.innerText.toUpperCase():n.innerText=e.innerText.toLowerCase():n.innerText=e.innerText.toUpperCase())})),this.CapsLock=!this.CapsLock}},{key:"changeShift",value:function(){var t=this;this.keyBoard.setKeys.forEach((function(e){var n=e;"letter"!==e.symbol&&"other"!==e.symbol&&"digits"!==e.symbol||(t.CapsLock||t.ShiftLeft||t.ShiftRight?t.CapsLock&&(t.ShiftLeft||t.ShiftRight)?n.innerText=e.content["".concat(t.Language)].toUpperCase():!t.CapsLock||t.ShiftLeft&&t.ShiftRight?n.innerText=e.content["".concat(t.Language)].toLowerCase():n.innerText=e.altContent["".concat(t.Language)].toLowerCase():n.innerText=e.altContent["".concat(t.Language)].toUpperCase())}))}},{key:"changeLanguage",value:function(t){var e=this;"keyup"!==t.type&&(this.keyBoard.setKeys.forEach((function(n){var o=n;if("letter"!==n.symbol&&"other"!==n.symbol&&"digits"!==n.symbol||("en"===e.Language?e.CapsLock||!e.ShiftLeft&&!e.ShiftRight?e.CapsLock&&(e.ShiftLeft||e.ShiftRight)&&(o.innerText=n.content.ru.toLowerCase()):o.innerText=n.content.ru.toUpperCase():e.CapsLock||!e.ShiftLeft&&!e.ShiftRight?e.CapsLock&&(e.ShiftLeft||e.ShiftRight)&&(o.innerText=n.content.en.toLowerCase()):o.innerText=n.content.en.toUpperCase()),"click"===t.type){var r=o.code;"ShiftLeft"!==r&&"ShiftLeft"!==r&&"AltLeft"!==r||o.classList.remove("active_button")}})),"en"===this.Language?(this.Language="ru",localStorage.setItem("languageSetting",JSON.stringify(this.Language))):(this.Language="en",localStorage.setItem("languageSetting",JSON.stringify(this.Language)))),this.ShiftLeft||this.ShiftRight?this.AltLeft=!1:this.AltLeft&&(this.ShiftLeft=!1),"click"===t.type&&(this.AltLeft=!1,this.ShiftLeft=!1,this.ShiftRight=!1,this.keyBoard.setKeys.forEach((function(t){if("letter"===t.symbol||"other"===t.symbol||"digits"===t.symbol){var e=t;e.innerText=e.innerText.toLowerCase()}})))}},{key:"changeStyleButton",value:function(t,e){"click"===t.type?(this.arrFunctionalityBottons.includes(e)&&t.target.classList.toggle("active_button"),this.arrFunctionalityBottons.includes(e)||t.target.classList.remove("push_button")):"keydown"===t.type?this.arrFunctionalityBottons.includes(e)?this.keyBoard.setKeys.forEach((function(t){var n=t;n.code===e&&"CapsLock"===e?n.classList.toggle("active_button"):n.code===e&&n.classList.add("active_button")})):this.keyBoard.setKeys.forEach((function(t){var n=t;n.code===e&&n.classList.add("push_button")})):"keyup"===t.type&&(this.arrFunctionalityBottons.includes(e)?this.keyBoard.setKeys.forEach((function(t){var n=t;n.code===e&&"CapsLock"!==e&&n.classList.remove("active_button")})):this.keyBoard.setKeys.forEach((function(t){var n=t;n.code===e&&n.classList.remove("push_button")})))}},{key:"print",value:function(t){var e=this;this.textArea.element.focus();var n=this.textArea.element.value,o=this.textArea.element.value.length,r="",l=this.textArea.element.selectionStart,a=this.textArea.element.selectionEnd,i=this.textArea.element.value.slice(0,l),s=this.textArea.element.value.slice(l,o);this.keyBoard.setKeys.forEach((function(c){var u=c;u.code!==t||e.arrFunctionalityBottons.includes(u.code)||("Tab"===u.code?(r="\t",e.textArea.element.value=i+r+s,e.textArea.element.setSelectionRange(l,a),e.textArea.element.selectionStart=l+1):"Enter"===u.code?(r="\r",e.textArea.element.value=i+r+s):"Backspace"===u.code?l===a?(r=i.slice(0,-1)+s,e.textArea.element.value=r,e.textArea.element.setSelectionRange(i.length-1,s.length-1)):(r=i.slice(0,l)+s.slice(a,o),e.textArea.element.value=r,e.textArea.element.setSelectionRange(i.length,s.length)):"Delete"===u.code?l===a?(r=i+s.slice(1),e.textArea.element.value=r,e.textArea.element.setSelectionRange(i.length,i.length)):(r=i+n.slice(a,o),e.textArea.element.value=r,e.textArea.element.setSelectionRange(i.length,s.length)):(r=u.textContent,e.textArea.element.value=i+r+s,e.textArea.element.setSelectionRange(l,a),e.textArea.element.selectionStart=l+1))}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.style=n,this.rows=o,this.cols=r}var e,o;return e=t,(o=[{key:"createElement",value:function(){return this.element=document.createElement(this.type),this.element.className=this.style,this.element.rows=this.rows,this.element.cols=this.cols,this}},{key:"render",value:function(t){return t.append(this.element),this}}])&&n(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buttons=e,this.setKeys=[],this.setCodes=[]}var e,n;return e=t,(n=[{key:"createKeyBoard",value:function(){return this.KeyBoard=document.createElement("div"),this.KeyBoard.className="wrapper-keyboard",document.body.append(this.KeyBoard),this}},{key:"createRowsKeys",value:function(){for(var t=this,e=function(e){t.row=document.createElement("div"),t.row.className="row",t.buttons.forEach((function(n){n.row===e&&(t.key=document.createElement("button"),t.key.className=n.style,"en"===JSON.parse(localStorage.getItem("languageSetting"))?t.key.innerText=n.content.en:t.key.innerText=n.content.ru,t.key.symbol=n.symbol,t.key.push=n.push,t.key.content=n.content,t.key.altContent=n.altContent,t.key.code=n.code,t.setCodes.push(n.code),t.key.row=n.row,t.setKeys.push(t.key),t.row.append(t.key)),t.KeyBoard.append(t.row)}))},n=1;n<=5;n+=1)e(n);return this}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const a=[{symbol:"other",content:{ru:"ё",en:"`"},altContent:{ru:"ё",en:"~"},code:"Backquote",style:"normal",row:1},{symbol:"digits",content:{ru:"1",en:"1"},altContent:{ru:"!",en:"!"},code:"Digit1",style:"normal",row:1},{symbol:"digits",content:{ru:"2",en:"2"},altContent:{ru:'"',en:"@"},code:"Digit2",style:"normal",row:1},{symbol:"digits",content:{ru:"3",en:"3"},altContent:{ru:"№",en:"#"},code:"Digit3",style:"normal",row:1},{symbol:"digits",content:{ru:"4",en:"4"},altContent:{ru:";",en:"$"},code:"Digit4",style:"normal",row:1},{symbol:"digits",content:{ru:"5",en:"5"},altContent:{ru:"%",en:"%"},code:"Digit5",style:"normal",row:1},{symbol:"digits",content:{ru:"6",en:"6"},altContent:{ru:":",en:"^"},code:"Digit6",style:"normal",row:1},{symbol:"digits",content:{ru:"7",en:"7"},altContent:{ru:"?",en:"&"},code:"Digit7",style:"normal",row:1},{symbol:"digits",content:{ru:"8",en:"8"},altContent:{ru:"*",en:"*"},code:"Digit8",style:"normal",row:1},{symbol:"digits",content:{ru:"9",en:"9"},altContent:{ru:"(",en:"("},code:"Digit9",style:"normal",row:1},{symbol:"digits",content:{ru:"0",en:"0"},altContent:{ru:")",en:")"},code:"Digit0",style:"normal",row:1},{symbol:"other",content:{ru:"-",en:"-"},altContent:{ru:"_",en:"_"},code:"Minus",style:"normal",row:1},{symbol:"other",content:{ru:"=",en:"="},altContent:{ru:"+",en:"+"},code:"Equal",style:"normal",row:1},{symbol:"functional",content:{ru:"Backspace",en:"Backspace"},altContent:{ru:"Backspace",en:"Backspace"},code:"Backspace",style:"wideplus",row:1},{symbol:"functional",content:{ru:"Tab",en:"Tab"},altContent:{ru:"Tab",en:"Tab"},code:"Tab",style:"medium",row:2},{symbol:"letter",content:{ru:"й",en:"q"},altContent:{ru:"й",en:"q"},code:"KeyQ",style:"normal",row:2},{symbol:"letter",content:{ru:"ц",en:"w"},altContent:{ru:"ц",en:"w"},code:"KeyW",style:"normal",row:2},{symbol:"letter",content:{ru:"у",en:"e"},altContent:{ru:"у",en:"e"},code:"KeyE",style:"normal",row:2},{symbol:"letter",content:{ru:"к",en:"r"},altContent:{ru:"к",en:"r"},code:"KeyR",style:"normal",row:2},{symbol:"letter",content:{ru:"е",en:"t"},altContent:{ru:"е",en:"t"},code:"KeyT",style:"normal",row:2},{symbol:"letter",content:{ru:"н",en:"y"},altContent:{ru:"н",en:"y"},code:"KeyY",style:"normal",row:2},{symbol:"letter",content:{ru:"г",en:"u"},altContent:{ru:"г",en:"u"},code:"KeyU",style:"normal",row:2},{symbol:"letter",content:{ru:"ш",en:"i"},altContent:{ru:"ш",en:"i"},code:"KeyI",style:"normal",row:2},{symbol:"letter",content:{ru:"щ",en:"o"},altContent:{ru:"щ",en:"o"},code:"KeyO",style:"normal",row:2},{symbol:"letter",content:{ru:"з",en:"p"},altContent:{ru:"з",en:"p"},code:"KeyP",style:"normal",row:2},{symbol:"other",content:{ru:"х",en:"["},altContent:{ru:"х",en:"{"},code:"BracketLeft",style:"normal",row:2},{symbol:"other",content:{ru:"ъ",en:"]"},altContent:{ru:"ъ",en:"}"},code:"BracketRight",style:"normal",row:2},{symbol:"other",content:{ru:"\\",en:"\\"},altContent:{ru:"/",en:"|"},code:"Backslash",style:"normal",row:2},{symbol:"functional",content:{ru:"DEL",en:"DEL"},altContent:{ru:"DEL",en:"DEL"},code:"Delete",style:"medium",row:2},{symbol:"functional",content:{ru:"Caps Lock",en:"Caps Lock"},altContent:{ru:"Caps Lock",en:"Caps Lock"},code:"CapsLock",style:"wide",row:3,push:!0},{symbol:"letter",content:{ru:"ф",en:"a"},altContent:{ru:"ф",en:"a"},code:"KeyA",style:"normal",row:3},{symbol:"letter",content:{ru:"ы",en:"s"},altContent:{ru:"ы",en:"s"},code:"KeyS",style:"normal",row:3},{symbol:"letter",content:{ru:"в",en:"d"},altContent:{ru:"в",en:"d"},code:"KeyD",style:"normal",row:3},{symbol:"letter",content:{ru:"а",en:"f"},altContent:{ru:"а",en:"f"},code:"KeyF",style:"normal",row:3},{symbol:"letter",content:{ru:"п",en:"g"},altContent:{ru:"п",en:"g"},code:"KeyG",style:"normal",row:3},{symbol:"letter",content:{ru:"р",en:"h"},altContent:{ru:"р",en:"h"},code:"KeyH",style:"normal",row:3},{symbol:"letter",content:{ru:"о",en:"j"},altContent:{ru:"о",en:"j"},code:"KeyJ",style:"normal",row:3},{symbol:"letter",content:{ru:"л",en:"k"},altContent:{ru:"л",en:"k"},code:"KeyK",style:"normal",row:3},{symbol:"letter",content:{ru:"д",en:"l"},altContent:{ru:"д",en:"l"},code:"KeyL",style:"normal",row:3},{symbol:"letter",content:{ru:"ж",en:";"},altContent:{ru:"ж",en:":"},code:"Semicolon",style:"normal",row:3},{symbol:"letter",content:{ru:"э",en:"'"},altContent:{ru:"э",en:'"'},code:"Quote",style:"normal",row:3},{symbol:"functional",content:{ru:"ENTER",en:"ENTER"},altContent:{ru:"ENTER",en:"ENTER"},code:"Enter",style:"wideplus",row:3},{symbol:"functional",content:{ru:"Shift",en:"Shift"},altContent:{ru:"Shift",en:"Shift"},code:"ShiftLeft",style:"widepluplus",row:4,push:!0},{symbol:"letter",content:{ru:"я",en:"z"},altContent:{ru:"я",en:"z"},code:"KeyZ",style:"normal",row:4},{symbol:"letter",content:{ru:"ч",en:"x"},altContent:{ru:"ч",en:"x"},code:"KeyX",style:"normal",row:4},{symbol:"letter",content:{ru:"с",en:"c"},altContent:{ru:"с",en:"c"},code:"KeyC",style:"normal",row:4},{symbol:"letter",content:{ru:"м",en:"v"},altContent:{ru:"м",en:"v"},code:"KeyV",style:"normal",row:4},{symbol:"letter",content:{ru:"и",en:"b"},altContent:{ru:"и",en:"b"},code:"KeyB",style:"normal",row:4},{symbol:"letter",content:{ru:"т",en:"n"},altContent:{ru:"т",en:"n"},code:"KeyN",style:"normal",row:4},{symbol:"letter",content:{ru:"ь",en:"m"},altContent:{ru:"ь",en:"m"},code:"KeyM",style:"normal",row:4},{symbol:"letter",content:{ru:"б",en:","},altContent:{ru:"б",en:"<"},code:"Comma",style:"normal",row:4},{symbol:"letter",content:{ru:"ю",en:"."},altContent:{ru:"ю",en:">"},code:"Period",style:"normal",row:4},{symbol:"other",content:{ru:".",en:"/"},altContent:{ru:",",en:"?"},code:"Slash",style:"normal",row:4},{symbol:"functional",content:{ru:"▲",en:"▲"},altContent:{ru:"▲",en:"▲"},code:"ArrowUp",style:"normal",row:4},{symbol:"functional",content:{ru:"Shift",en:"Shift"},altContent:{ru:"Shift",en:"Shift"},code:"ShiftRight",style:"normal",row:4,push:!0},{symbol:"functional",content:{ru:"Ctrl",en:"Ctrl"},altContent:{ru:"Ctrl",en:"Ctrl"},code:"ControlLeft",style:"medium",row:5,push:!0},{symbol:"functional",content:{ru:"Win",en:"Win"},altContent:{ru:"Win",en:"Win"},code:"MetaLeft",style:"normal",row:5},{symbol:"functional",content:{ru:"Alt",en:"Alt"},altContent:{ru:"Alt",en:"Alt"},code:"AltLeft",style:"normal",row:5,push:!0},{symbol:"functional",content:{ru:" ",en:" "},altContent:{ru:" ",en:" "},code:"Space",style:"overwide",row:5},{symbol:"functional",content:{ru:"Alt",en:"Alt"},altContent:{ru:"Alt",en:"Alt"},code:"AltRight",style:"normal",row:5,push:!0},{symbol:"functional",content:{ru:"Ctrl",en:"Ctrl"},altContent:{ru:"Ctrl",en:"Ctrl"},code:"ControlRight",style:"medium",row:5,push:!0},{symbol:"functional",content:{ru:"◄",en:"◄"},altContent:{ru:"◄",en:"◄"},code:"ArrowLeft",style:"normal",row:5},{symbol:"functional",content:{ru:"▼",en:"▼"},altContent:{ru:"▼",en:"▼"},code:"ArrowDown",style:"normal",row:5},{symbol:"functional",content:{ru:"►",en:"►"},altContent:{ru:"►",en:"►"},code:"ArrowRight",style:"normal",row:5}];function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.style=n}var e,n;return e=t,(n=[{key:"render",value:function(){return this.element=document.createElement(this.node),this.element.className=this.style,this.element.text=document.createElement("div"),this.element.text.className="title_text",this.element.text.innerText="RSS Virtual Keyboard",this.element.description=document.createElement("div"),this.element.description.className="text_description",this.element.description.innerText="Language switching - Shift + LeftAlt",this.element.description.text=document.createElement("div"),this.element.description.text.className="text_description",this.element.description.text.innerText="Virtual Keyboard for Windows",this.element.append(this.element.text,this.element.description,this.element.description.text),document.body.append(this.element),this}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.onload=function(){new s("div","wrapper_text").render();var t=new o("textarea","textarea",7,100);t.createElement().render(document.body);var n=new l(a);n.createKeyBoard().createRowsKeys();var r=new e(t,n);r.createListenerForVirtualButtons(),r.createListenerForRealButtons();var i=JSON.stringify("en");localStorage.getItem("languageSetting")||(localStorage.clear(),localStorage.setItem("languageSetting",i))}})();
//# sourceMappingURL=bundle.js.map